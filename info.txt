

online-shop-frontend project created: October mid 2025


Scenario start ===================================================================

Scenario:
There are three types of users: Sellers, Buyers, and an Admin.
Each type has its own dashboard.
Do we need to use a Role-Based approach so that each user has access to his own dashboard:
'seller' 'buyer' or 'admin' or can we simply use a browser token and an _id from MongoDB ?

Seller (multiple sellers):
    1. Can create a book they want to sell.
    2. Can send a message to a buyer and to the admin.
    3. Can like a buyer.

Buyer (multiple buyers):
    1. Can create a book they want to purchase.
    2. Can send a message to a seller and to the admin.

Admin (one admin):
    1. Can delete a seller's message.
    2. Can delete a buyer's message.
    3. Can respond to the buyer.
    4. Can respond to the seller.

Scenario end =====================================================================    



Example-1 backend middleware
    router.post('/dashboard', verifyToken, userDashboard);


Example-2 frontend route
   <ProtectedRoute>
        <Dashboard/>
   </ProtectedRoute>


Example-3
   Dashboard Schema()
      userId: {
       type: mongoose.Schema.Types.ObjectId,
       ref: 'User',
       required: true,
      }







Example-4
       for model Schema
       role: {
            type: String,
            enum: ["seller", "buyer", "admin"],
            default: "buyer",
        }, 



Example-5
       <Routes>
                {/* Public Route */}
                <Route path="/" element={<HomePage />} />
                <Route path="/login" element={<Login />} />
                
                {/* Role-based Routes */}
                <Route
                    path="/admin"
                    element={
                        <RoleBasedRoute allowedRoles={['admin']} >
                            <AdminPanel />
                        </RoleBasedRoute>
                    }
                />
                
                <Route
                    path="/seller"
                    element={
                        <RoleBasedRoute allowedRoles={['seller', 'admin']} >
                            <SellerDashboard />
                        </RoleBasedRoute>
                    }
                />

                <Route
                    path="/buyer"
                    element={
                        <RoleBasedRoute allowedRoles={['buyer']} >
                            <BuyerDashboard />
                        </RoleBasedRoute>
                    }
                />
                
                {/* Route accessible by both Seller and Admin */}
                <Route
                    path="/manage-books"
                    element={
                        <RoleBasedRoute allowedRoles={['seller', 'admin']} >
                            <ManageBooks />
                        </RoleBasedRoute>
                    }
                />

            </Routes>

